// ========================================
// 포스트 목록 스타일 (홈페이지)
// ========================================

@import 'variables';

// 포스트 목록 컨테이너
.post-list {
  margin-left: 0;
  margin-right: 0;
  padding-left: 0;
  padding-right: 0;
  list-style: none;
  max-width: 800px; // 포스트 목록 최대 너비 제한
  margin: 0 auto; // 가운데 정렬

  >li {
    margin-bottom: $spacing-sm; // 포스트 사이 간격 줄임
    display: flex !important; // 강제 flex 적용
    align-items: center !important;
    gap: $spacing-md;
    width: 100%;
  }
}

// 포스트 목록 제목
.post-list-heading {
  font-size: 1.75rem;
  font-family: $font-family-nav; // 네비게이션 폰트와 동일하게 적용
}

// 포스트 링크 컨테이너 개선
.post-list>li {
  display: flex !important;
  align-items: center !important;
  gap: $spacing-lg; // 포스트 요소들 사이 간격 늘리기 (spacing-md → spacing-lg)
  margin-bottom: $spacing-xl; // 포스트 사이 간격 더 넓히기 (spacing-lg → spacing-xl)
  margin-left: 0 !important;
  padding-left: 0 !important;
  width: 100%;
}

// 포스트 링크
.post-link {
  font-size: 1rem;
  color: $muted-color;
  flex: 1 !important; // 강제로 남은 공간 모두 사용
  min-width: 0 !important; // flex 아이템이 축소될 수 있도록
  white-space: nowrap !important; // 강제로 한 줄 유지
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  display: block !important;
  text-decoration: none;
  position: relative;

  &.short-post {
    font-size: 1.05rem;
    color: $secondary-color;

    // 모바일에서 짧은 글 버튼 크기 줄이기
    @media screen and (max-width: $breakpoint-mobile) {
      font-size: 0.8rem;
    }
  }
}

// 짧은 글 태그
.short-post-tag {
  display: inline-block;
  font-size: 0.6rem !important;
  color: $secondary-color;
  background-color: #e8e8e8;
  padding: 1px 3px;
  margin-left: 3px;
  border-radius: 2px;
  border: none;
  font-weight: 500;
  vertical-align: middle;
  opacity: 1;
  position: relative;
  z-index: 1;
  flex-shrink: 0;
  white-space: nowrap;

  // 모바일에서 짧은 글 태그 크기 줄이기
  @media screen and (max-width: $breakpoint-mobile) {
    font-size: 0.6rem !important;
    padding: 1px 3px !important;
    margin-left: 3px !important;
    line-height: 1.3 !important;
  }
}



// 포스트 메타 정보 (날짜)
.post-meta {
  font-size: 14px;
  color: $muted-color;
  display: inline-block;
  width: 50px !important; // 강제 고정 크기
  text-align: right;
  flex-shrink: 0 !important; // 강제로 크기 고정
  white-space: nowrap !important;
  font-family: $font-family-nav; // 네비게이션 폰트 변수 사용
  position: relative; // 상대 위치 설정

  // 년월 위에 선 그리기
  &::before {
    content: '';
    position: absolute;
    top: -8px; // 텍스트 위쪽에 위치
    right: 0; // 오른쪽 정렬
    width: 100%; // 텍스트 길이만큼
    height: 2px; // 선 두께 (더 두껍게)
    background-color: $muted-color; // 선 색상
    opacity: 0.5; // 투명도 (더 진하게)
  }
}

// 포스트 카테고리
.post-categories {
  font-size: 0.8rem;
  color: $muted-color;
  display: inline-block;
  width: 35px !important; // 너비 더 줄이기 (50px → 35px)
  text-align: right !important; // 오른쪽 정렬
  font-weight: 500;
  color: $secondary-color;
  flex-shrink: 0 !important; // 강제로 크기 고정
  white-space: nowrap !important;
  font-family: $font-family-nav; // 네비게이션 폰트 변수 사용
  overflow: visible !important; // 넘치는 텍스트 표시
  position: relative; // 상대 위치 설정
  padding: 0; // 내부 여백 제거

  // 분류 위에 선 그리기
  &::before {
    content: '';
    position: absolute;
    top: -8px; // 텍스트 위쪽에 위치
    right: 0; // 오른쪽 정렬
    width: 100%; // 텍스트 길이만큼
    height: 2px; // 선 두께 (더 두껍게)
    background-color: $muted-color; // 선 색상
    opacity: 0.3; // 투명도 (약간 연하게)
    border-top: 1.5px dashed $muted-color; // 긴 줄선을 더 얇게
    background-color: transparent; // 배경색 투명으로
  }
}

// 모든 화면 크기에서 적용
.post-list li {
  display: flex !important;
  align-items: center !important;
  width: 100% !important;
  margin-left: 0 !important; // 왼쪽 여백 제거
  padding-left: 0 !important; // 왼쪽 패딩 제거
  margin-bottom: $spacing-xl; // 포스트 사이 간격 더 넓히기 (spacing-lg → spacing-xl)
}

.post-list li .post-link {
  flex: 1 !important;
  min-width: 0 !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}



// 모바일 반응형
@media screen and (max-width: $breakpoint-mobile) {
  .post-link {
    max-width: none !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    display: block !important;
  }

  .post-categories {
    vertical-align: center;
  }

  .post-meta {
    vertical-align: center;
  }
}

// 모바일에서 포스트 목록 간격 줄이기 (하지만 기본 간격보다는 넓게)
@media screen and (max-width: $breakpoint-mobile) {
  .post-list>li {
    margin-bottom: $spacing-lg; // 모바일에서도 간격 더 넓게 (spacing-md → spacing-lg)
    gap: $spacing-md; // 모바일에서도 요소 간격 유지 (spacing-sm → spacing-md)
  }
}
